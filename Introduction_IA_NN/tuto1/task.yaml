accessible: true
author: Loan
categories: []
context: |-
    Bienvenue dans cette première tache Inginious destinée à l'implémentation d'un réseau de neurones.

    --------------
    Réseau utilisé
    --------------

    | De la même manière que dans les exercices préparatoires, notre réseau tentera de reconnaitre une ligne verticale d'une ligne horizontale sur une image/grille de 3x3 en noir et blanc.
    | Celui ci est composé de 3 couches au total.
    | - La couche d'entrée comporte 9 neurones, correspondant au 9 pixels de l'image/grille donné en entrées
    | - La couche cachée (il n'y en a qu'une seule dans ce réseau), comporte 3 neurones
    | - La couche de sortie comporte 2 neurones, le premier détermine la conclusion **vertical** et le second **horizontal**
    |
    | Ce réseau à déjà été entrainé au préalable par *apprentissage supervisé*, la valeur des matrices des poids sont les suivantes :

    $$
    \\text{Entrée - Cachée}
    \\begin{pmatrix}6 & 6 & 0 \\\\ -4 & 8 & -1 \\\\ 6 & 7 & 9 \\\\ 8 & -4 & -3 \\\\ -5 & -5 & -1 \\\\ 8 & -4 & 7 \\\\ 6 & 4 & 1 \\\\ -4 & 9 & -1 \\\\ 7 & 7 & 8 \\end{pmatrix}
    \\quad
    \\text{Cachée - Sortie}
    \\begin{pmatrix}-5 & 5 \\\\ 7 & -7 \\\\ -4 & 4 \\end{pmatrix}
    $$

    Pour obtenir ses valeurs j'ai entrainé le réseau à l'aide de 21 grilles/images. Certaines de ces grilles apparaissent plusieurs fois, c'est pour insister auprès du réseau pour qu'il puisse les reconnaitre correctement.
    Après l'entrainement, le réseau prédit mal seulement 3 grilles/images parmi les 21 initialement fournies.
    Les valeurs indiqué plus haut ont également étaient multipliés par 2 arrondies afin que tu es nombre plus facile à manipuler.

    Note qu'une ligne verticale étant l'opposé d'une ligne horizontale, les grilles utilisées sont des symmétries centrales l'une de l'autre.
    Les 21 grilles utiliséees pour chaque ligens sont les suivantes :

    +------------+----------------------------------------------------------+-------------------------------------------------------------+
    | Quantitée  | Grille pour entrainer à reconnaitre une ligne verticale  |  Grille pour entrainer à reconnaitre une ligne horizontale  |
    +============+==========================================================+=============================================================+
    | 5          | |gridV1|                                                 | |gridH1|                                                    |
    +------------+----------------------------------------------------------+-------------------------------------------------------------+
    | 1          | |gridV2|                                                 | |gridH2|                                                    |
    +------------+----------------------------------------------------------+-------------------------------------------------------------+
    | 1          | |gridV3|                                                 | |gridH3|                                                    |
    +------------+----------------------------------------------------------+-------------------------------------------------------------+
    | 3          | |gridV4|                                                 | |gridH4|                                                    |
    +------------+----------------------------------------------------------+-------------------------------------------------------------+
    | 3          | |gridV5|                                                 | |gridH5|                                                    |
    +------------+----------------------------------------------------------+-------------------------------------------------------------+
    | 1          | |gridV6|                                                 | |gridH6|                                                    |
    +------------+----------------------------------------------------------+-------------------------------------------------------------+
    | 1          | |gridV7|                                                 | |gridH7|                                                    |
    +------------+----------------------------------------------------------+-------------------------------------------------------------+
    | 1          | |gridV8|                                                 | |gridH8|                                                    |
    +------------+----------------------------------------------------------+-------------------------------------------------------------+
    | 1          | |gridV9|                                                 | |gridH9|                                                    |
    +------------+----------------------------------------------------------+-------------------------------------------------------------+
    | 1          | |gridV10|                                                | |gridH10|                                                   |
    +------------+----------------------------------------------------------+-------------------------------------------------------------+
    | 1          | |gridV11|                                                | |gridH11|                                                   |
    +------------+----------------------------------------------------------+-------------------------------------------------------------+
    | 1          | |gridV12|                                                | |gridH12|                                                   |
    +------------+----------------------------------------------------------+-------------------------------------------------------------+
    | 1          | |gridV13|                                                | |gridH13|                                                   |
    +------------+----------------------------------------------------------+-------------------------------------------------------------+

    .. |gridV1| image:: tuto1/grids/vert/gridV1.svg
    .. |gridV2| image:: tuto1/grids/vert/gridV2.svg
    .. |gridV3| image:: tuto1/grids/vert/gridV3.svg
    .. |gridV4| image:: tuto1/grids/vert/gridV4.svg
    .. |gridV5| image:: tuto1/grids/vert/gridV5.svg
    .. |gridV6| image:: tuto1/grids/vert/gridV6.svg
    .. |gridV7| image:: tuto1/grids/vert/gridV7.svg
    .. |gridV8| image:: tuto1/grids/vert/gridV8.svg
    .. |gridV9| image:: tuto1/grids/vert/gridV9.svg
    .. |gridV10| image:: tuto1/grids/vert/gridV10.svg
    .. |gridV11| image:: tuto1/grids/vert/gridV11.svg
    .. |gridV12| image:: tuto1/grids/vert/gridV12.svg
    .. |gridV13| image:: tuto1/grids/vert/gridV13.svg

    .. |gridH1| image:: tuto1/grids/hor/gridV1.svg
    .. |gridH2| image:: tuto1/grids/hor/gridV2.svg
    .. |gridH3| image:: tuto1/grids/hor/gridV3.svg
    .. |gridH4| image:: tuto1/grids/hor/gridV4.svg
    .. |gridH5| image:: tuto1/grids/hor/gridV5.svg
    .. |gridH6| image:: tuto1/grids/hor/gridV6.svg
    .. |gridH7| image:: tuto1/grids/hor/gridV7.svg
    .. |gridH8| image:: tuto1/grids/hor/gridV8.svg
    .. |gridH9| image:: tuto1/grids/hor/gridV9.svg
    .. |gridH10| image:: tuto1/grids/hor/gridV10.svg
    .. |gridH11| image:: tuto1/grids/hor/gridV11.svg
    .. |gridH12| image:: tuto1/grids/hor/gridV12.svg
    .. |gridH13| image:: tuto1/grids/hor/gridV13.svg



    --------
    Blockly
    --------

    | Tu trouvera çi-bas le code *Blockly* permettant de correctement configurer le réseau de neurone.
    | Dans cette première partie le code est fonctionnel et complet.
    |
    | Chacune des 3 étapes de la classification d'un réseau neuronal consiste en 1 bloc:
    |  1. Calculer la valeur des neurones de la couche d'entrée à partir d'une entrée ``X``
    | |block1|
    |  2. Calculer la valeur des neurones des autres couches une par une
    | |block2|
    |  3. Tirer une conclusion de la couche de sortie
    | |block3|
    |
    | Dans les parties qui vont suivre je vais retirer ces blocs et tu devra implémenter leur logique toi même. Pour cela des nouveaux blocs te seront à chaque fois introduit pour accomplir ton objectif.
    |
    | **Objectif**
    | Le code est déja fonctionel.
    | Dessine dans la grille à gauche pour voir comment le code et le réseau réagissent aux modifications.

    .. |block1| image:: $common/img/blocks/handleInput.svg
    .. |block2| image:: $common/img/blocks/handleLayers.svg
    .. |block3| image:: $common/img/blocks/conclude.svg
environment: default
evaluate: best
file: ''
groups: false
input_random: '0'
limits:
    output: '2'
    time: '30'
    memory: '100'
name: 1. Introduction du code Blockly
network_grading: false
order: 1
problems:
    tuto1:
        options:
            toolboxPosition: start
            maxBlocks: Infinity
            scrollbars: true
            zoom:
                controls: true
                minScale: 0.3
                startScale: 1.0
                maxScale: 3.0
                scaleSpeed: 1.2
                wheel: false
            visual:
                position: left
            css: true
            grid:
                spacing: 20
                colour: '#ccc'
                snap: true
                length: 3
            media: /plugins/blockly/static/blockly/media/
            speed: '60'
            oneBasedIndex: true
        blocks_files:
        - ../$common/blocklyBlock/blocks.js
        - ../$common/blocklyBlock/blocksStubs.js
        name: ''
        files:
        - ../$common/raphael.min.js
        - ../$common/simpleNetworkVisual.js
        - ../$common/defaultInit.js
        header: ''
        toolbox: |-
            <xml xmlns="http://www.w3.org/1999/xhtml" id="toolbox" style="display: none;">
              <category name="NN" colour="#a5935b">
                <block type="nn_handle_input"></block>
                <block type="nn_handle_layer"></block>
                <block type="nn_conclusion"></block>
              </category>
              <category name="NN Image" colour="#a55b93">
                <block type="nnimgcustom"></block>
              </category>
              <category name="NN Debug" colour="#80a55b">
                <block type="main"></block>
                <block type="custom_print"></block>
              </category>
              <sep></sep>
              <category name="Math" colour="#5C68A6">
                <block type="math_number">
                  <field name="NUM">0</field>
                </block>
              </category>
              <sep></sep>
              <category name="Variables" colour="#A65C81" custom="VARIABLE"></category>
              <category name="Functions" colour="#9A5CA6" custom="PROCEDURE"></category>
            </xml>
        type: blockly
        workspace: |-
            <xml xmlns="http://www.w3.org/1999/xhtml" id="workspaceBlocks" style="display:none">
              <variables>
                <variable type="" id="5r;uFq#S(ATV!I;_OHb:">image</variable>
                <variable type="" id="#loSxYMpW/.zVKV`r}d^">resultat</variable>
                <variable type="" id="DRiV+!WQR=}%0e}t.O[X">resultat classification</variable>
              </variables>
              <block type="procedures_defreturn" id="seJU@)_oop;:n0P[7KN4" x="38" y="13">
                <mutation>
                  <arg name="image" varid="5r;uFq#S(ATV!I;_OHb:"></arg>
                </mutation>
                <field name="NAME">classifier</field>
                <comment pinned="false" h="80" w="160">Describe this function...</comment>
                <statement name="STACK">
                  <block type="nn_handle_input" id="J?mNY;s3Oydpe$TN_x%8">
                    <value name="picture">
                      <block type="variables_get" id="n0ATYb6Ze.TFl)jtModK">
                        <field name="VAR" id="5r;uFq#S(ATV!I;_OHb:" variabletype="">image</field>
                      </block>
                    </value>
                    <next>
                      <block type="nn_handle_layer" id="O#9z/lQ._j{PuVK/ic/o">
                        <value name="layer_i">
                          <block type="math_number" id="-jxVfCr}%C,alArslE#5">
                            <field name="NUM">2</field>
                          </block>
                        </value>
                        <next>
                          <block type="nn_handle_layer" id="w?`Ta2/S%^]Z@d0H8e@K">
                            <value name="layer_i">
                              <block type="math_number" id="=PP2p^*P=;Zfz*}H$.v?">
                                <field name="NUM">3</field>
                              </block>
                            </value>
                            <next>
                              <block type="variables_set" id="G54l`$wC=fuQ.WyiZ@vY">
                                <field name="VAR" id="#loSxYMpW/.zVKV`r}d^" variabletype="">resultat</field>
                                <value name="VALUE">
                                  <block type="nn_conclusion" id="~u7Ui:`teaX(/-ke+_{1"></block>
                                </value>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </statement>
                <value name="RETURN">
                  <block type="variables_get" id="cUCnb#][xB@q|19%o{S9">
                    <field name="VAR" id="#loSxYMpW/.zVKV`r}d^" variabletype="">resultat</field>
                  </block>
                </value>
              </block>
              <block type="main" id="jmWh+]iUp:3TMBfC0eb`" x="38" y="238">
                <next>
                  <block type="variables_set" id="2#rO6vQnrqhr.Jx6bhCf">
                    <field name="VAR" id="DRiV+!WQR=}%0e}t.O[X" variabletype="">resultat classification</field>
                    <value name="VALUE">
                      <block type="procedures_callreturn" id=")/~$8Z3t},M(UPkXnyAl">
                        <mutation name="classifier">
                          <arg name="image"></arg>
                        </mutation>
                        <value name="ARG0">
                          <block type="nnimgcustom" id="``WP!@ZSA-N;t]#%[AbU"></block>
                        </value>
                      </block>
                    </value>
                    <next>
                      <block type="custom_print" id="h83zPIjM1Fr8H8FE-#KE">
                        <value name="value">
                          <block type="variables_get" id="-G$ecKXzuE*jagPmolin">
                            <field name="VAR" id="DRiV+!WQR=}%0e}t.O[X" variabletype="">resultat classification</field>
                          </block>
                        </value>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </xml>
stored_submissions: 0
submission_limit:
    amount: -1
    period: -1
weight: 1.0
